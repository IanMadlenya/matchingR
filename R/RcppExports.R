# This file was generated by Rcpp::compileAttributes
# Generator token: 10BE3573-1514-4C36-9D1C-5A225CD40393

#' Compute the Gale-Shapley Algorithm
#'
#' This function computes the Gale-Shapley Algorithm with one-to-one matching.
#' This function requires very specific types of arguments. It might be more
#' convenient to call the function \code{one2one()} instead that allows for
#' more flexible input choices.
#'
#' @param prefM is a matrix with the preference order of the proposing side of 
#' the market (aka males)
#' @param uW is a matrix with cardinal utilities of the courted side of the 
#' market (aka females)
#' @return A list with the successful proposals and engagements. 
#' \code{proposals} is a vector whose nth element contains the id of the female 
#' that male n is matched to. 
#' \code{engagements} is a vector whose nth element contains the id of the male 
#' that female n is matched to.  
galeShapleyMatching <- function(prefM, uW) {
    .Call('matchingR_galeShapleyMatching', PACKAGE = 'matchingR', prefM, uW)
}

#' Sort indices of a matrix within row
#' 
#' Within each row of a matrix, this function returns the indices of each 
#' element in descending order
#' 
#' @param u is the input matrix
#' @return a matrix with sorted indicies
#' 
sortIndex <- function(u) {
    .Call('matchingR_sortIndex', PACKAGE = 'matchingR', u)
}

#' Rank elements within row of a matrix
#' 
#' This function returns the rank of each element within each row of a matrix.
#' The highest element receives the highest rank.
#' 
#' @param sortedIdx is the input matrix
#' @return a rank matrix
#' 
rankIndex <- function(sortedIdx) {
    .Call('matchingR_rankIndex', PACKAGE = 'matchingR', sortedIdx)
}

#' Check if a matching is stable
#'
#' This function checks if a given matching is stable for a particular set of
#' preferences. This function can check if a given check one-to-one, 
#' one-to-many, or many-to-one matching is stable.
#'
#' @param uWorkers is a matrix with cardinal utilities of the proposing side of the 
#' market
#' @param uFirms is a matrix with cardinal utilities of the courted side of the 
#' market
#' @param proposals is a matrix that contains the id of the firm that a given
#' worker is matched to: the first row contains the id of the firm that is 
#' matched with the first worker, the second row contains the id of the firm 
#' that is matched to the second worker, etc. The column dimension accommodates
#' the scenario when there are multiple workers of the same type. These must be
#' given in R style indexing.
#' @param engagements is a matrix that contains the id of the worker that a given
#' firm is matched to. The column dimension accommodates multi-worker firms. These 
#' must be given in R style indexing.
#' @return true if the matching is stable, false otherwise
checkStability <- function(uWorkers, uFirms, proposals, engagements) {
    .Call('matchingR_checkStability', PACKAGE = 'matchingR', uWorkers, uFirms, proposals, engagements)
}

